<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lx.boot.psy.mapper.ScaleVersionMapper">

    <!-- 获取量版本分页列表 -->
    <select id="getScaleVersionPage" resultType="com.lx.boot.psy.model.vo.ScaleVersionVO">
        SELECT
        sv.id,
        sv.scale_id,
        s.name as scale_name,
        sv.version_name,
        sv.description,
        sv.is_active,
        sv.create_by,
        sv.create_time,
        sv.update_by,
        sv.update_time,
        sv.is_deleted
        FROM
            psy_scale_version sv,
            psy_scale s
        <where>
            sv.is_deleted = 0
            and s.id = sv.scale_id
            <if test="queryParams.scaleId != null and queryParams.scaleId != ''">
                AND scale_id = #{queryParams.scaleId}
            </if>
        </where>
    </select>

</mapper>
